<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="viewport" content="width=1024">
  <link rel="icon" type="image/png" sizes="48x48" href="/css/favicon/android-icon-48x48.png">
  <link href="/css/styles/style.css" rel="stylesheet" type="text/css" />
  <link href="/css/styles/theme.css" rel="stylesheet" type="text/css" />
  <link href="/css/styles/login.css" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="/js/loader.js"></script>
  <script src="/js/api.js"></script>
  <script src="/js/my_diary.js"></script>
  <script src="/js/trash.js"></script>
  <style>
    body {
      background-color: #ebf2ff;
    }

    .img-zoom:hover {
      transform: scale(1.3);
    }
  </style>
</head>

<body>
  <!-- nav start -->
  <header class="site-header navbar">
    <!-- navbar -->
  </header>
  <!-- nav end -->
  <!-- content start -->
  <main class="site-body" style="min-height: calc(100vh - 100px) !important; padding-bottom: 100px;">
    <button href=""
      style="background-color: transparent; border: transparent; float: right; position: sticky; margin-top: 70px; top: 150px;left: 0; right: 0;"
      data-bs-toggle="modal" data-bs-target="#carouselModal">
      <img src="/css/assets/info_robot.png" style="z-index: 2 !important;">
    </button>
    <div id="toast"></div>
    <div class=" content-list max-content-width"
      style="background-color: #c6dbfa; padding: 10px 30px 30px 30px; border-radius:20px;">
      <div style="display: flex; align-items: center; margin-bottom:30px; ">
        <h2 style="margin-right: 10px;">my diary</h2>
        <select name="group" id="select_group" class="select" onchange="showNoteList()">
          <!-- <option value="-1">그룹 선택</option> -->
        </select>
        <div style="display: flex;">
          <button type="button" id="group-update-btn" class="btn group-btn"
            style="background-color: #485d86; color:white; margin: 0px 10px;" onclick="groupUpdateModal()"> 그룹 수정
          </button>
          <button type="button" id="group-delete-btn" class="btn group-btn"
            style="background-color: #7689b1; color:white; " data-bs-toggle="modal" data-bs-target="#deleteGroup"
            onclick="deleteGroupModal()">그룹 삭제</button>
          <button type="button" id="" class="btn group-btn"
            style="background-color: #485d86; color:white; margin: 0px 10px;" onclick="deleteNoteDiary()"> 노트 삭제
        </div>
        <div class="dropdown" style="margin-left: auto;">
          <button class="btn btn-secondary btn-sm dropdown-toggle" onclick="loadGroupMembers()"
            style="background-color: #485D86; border-color: #485D86; color:white; margin: 0px 10px; height: 45px; border-radius: 8px;"
            type="button" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="/css/assets/members.png" alt="Stamp Image" style="width: 30px; height:30px">
          </button>
          <ul id="members-list" class="dropdown-menu dropdown-menu-dark"
            style="right: 0; left: auto; background-color: #7689b1; border-color: #7689b1; --bs-dropdown-link-hover-bg: unset; --bs-dropdown-link-hover-color:unset;">
          </ul>
        </div>
      </div>
      <div class="contents" id="note_list">
        <a href="/" data-bs-toggle="modal" data-bs-target="#create_note">
          <section class="cp-card content" style="background-color: #d9e2f6; text-align:center;">
            <img src="/css/assets/plus.png" style="justify-content: center; width:60%; height:100%; margin-top:5%;">
          </section>
        </a>
      </div>
    </div>
  </main>
  <!-- content end -->
  <!-- footer start -->
  <footer style="background-color: #fbfcfd; bottom: 0; width: 100%;">
    <div style="background-color:#60749d; width: 100%; height: 10px;"></div>
    <p style="font-size: 30px; margin-top: 10px; text-align: center;">CONTACT</p>
    <div style="display: flex; padding: 0px 0px 20px; justify-content: center;">
      <div style="margin-right: 20px; width: 150px;">
        <p style="font-size: 25px;">김미영</p>
        <a style="text-decoration: none; color:black" href="https://github.com/kmy9810"><img
            src="/css/assets/github-logo.png" style="width:30px;"> kmy9810</a>
      </div>
      <div style="margin-right: 20px; width: 150px;">
        <p style="font-size: 25px;">김정은</p>
        <a style="text-decoration: none; color:black" href="https://github.com/Eunnylog"><img
            src="/css/assets/github-logo.png" style="width:30px;"> Eunnylog</a>
      </div>
      <div style="margin-right: 20px; width: 150px;">
        <p style="font-size: 25px;">연제건</p>
        <a style="text-decoration: none; color:black" href="https://github.com/Msgun7"><img
            src="/css/assets/github-logo.png" style="width:30px;"> Msgun7</a>
      </div>
      <div style="margin-right: 20px; width: 150px;">
        <p style="font-size: 25px;">양예린</p>
        <a style="text-decoration: none; color:black" href="https://github.com/yell2023"><img
            src="/css/assets/github-logo.png" style="width:30px;"> yell2023</a>
      </div>
      <div style="margin-right: 20px; width: 150px;">
        <p style="font-size: 25px;">최예지</p>
        <a style="text-decoration: none; color:black" href="https://github.com/choiyeji2022"><img
            src="/css/assets/github-logo.png" style="width:30px;"> choiyeji2022</a>
      </div>
    </div>
  </footer>
  <!-- footer end -->
  <!--노트 추가 모달-->
  <div class="modal fade" id="create_note" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="margin: auto; max-width: 900px;">
      <div class="modal-content" style="width:100%">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel" style="color: #485d86;">
            Create Note</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="container">
          <div class="global-cont">
            <div class="inner-cont">
              <div class="sign-in-up">
                <form class="sign-in-form active">
                  <input name="note_name" id="note_name" type="text" class="form-control" placeholder="노트 이름"
                    style="width: 48%; float:left; height: 52px;">
                  <select name="group_name" id="group_name" onchange="showNoteList();"
                    style="width: 48%; height: 52px; float:right; margin-bottom:10px; padding: 10px; border: 1px solid #C2C7D0; border-radius: 5px; box-sizing: border-box;">
                    <option value="-1">그룹 선택</option>
                  </select>
                  <div class="note_category" id="note_category">
                  </div>
                  <button type="button" onclick="saveNote()" class="btn btn-primary"
                    style="float: center; background-color: #485d86;">
                    Create
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 그룹만들기 모달창 -->
  <div class="modal fade" id="makegroup" tabindex="-1" aria-labelledby="su" aria-hidden="true" data-bs-backdrop="static"
    data-bs-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="su" style="color: #485d86;">
            Make Group</h5>
          <button type="button" class="btn-close" onclick="cancleGroupMake()" data-bs-dismiss="modal"
            aria-label="Close"></button>
        </div>
        <div class="container">
          <div class="global-cont">
            <div class="inner-cont">
              <div class="sign-in-up">
                <form class="sign-in-form active">
                  <input name="groupname" id="groupname" type="name" class="form-control" placeholder="Group Name"
                    maxlength="15" oninput="checkLength(this)">
                  <div style="display: flex;" id="group_make_box">
                    <input name="addemail" id="usersearch" type="email" class="form-control" autocomplete="off"
                      placeholder="Email to add" style="width: 300px;">
                    <button type="button" class="signup" onclick="addMember()"
                      style="width: 100px; background-color: #485d86; margin-left: 25px;"
                      id="addmember-btn">Search</button>
                  </div>
                  <div style="color: #7c838c;">
                    <p style="justify-content: left; color:#8d949e; margin-top: 10px;"> Searched
                      Emails </p>
                    <div id="email-list"
                      style="border: 5px double #8d949e; border-radius: 10px; padding: 10px 0px; margin-bottom: 10px; overflow-y: auto; height: 250px;">
                      <ul id="email-ul" style="position: relative; right: 10px;">
                      </ul>
                    </div>
                  </div>
                  <button type="button" onclick="addMembersToGroup()"
                    style="width: 45px; height: 45px; margin-left: 10px; background-color: #485d86; color: white;">
                    <img src="/css/group_icon/down-arrow.png" style="width: 20px;">
                  </button>
                  <button type="button" onclick="DeleteMembers()"
                    style="width: 45px; height: 45px; margin-left: 10px; background-color: #485d86;"><img
                      src="/css/group_icon/up-arrow.png" style="width: 20px;"></button>
                  <div style="color: #4d6087;">
                    <p style="justify-content: left; color:#60749d; margin-top: 10px;"> Selected
                      Emails </p>
                    <div id="selected-email-list" style="border: 5px double #60749d; border-radius: 10px; padding: 10px 0px; margin-bottom: 10px; 
                                            overflow-y: auto; height: 250px;">
                      <ul id="selected-email-ul" style="position: relative; right: 10px;">
                      </ul>
                      <div id="no-email-info"> 이메일을 추가하지 않으면 본인만 구성원으로 등록됩니다!</div>
                    </div>
                  </div>
                  <div class="sign-up" style="display: flex;">
                    <button type="button" class="cancle" data-bs-dismiss="modal" aria-label="Close"
                      onclick="document.getElementById('makegroup').style.display = 'none'; cancleGroupMake()"
                      style="margin-right: 10px; background-color: #7689b1;">Cancel</button>
                    <button type="button" class="signup" onclick="addGroup()"
                      style="background-color: #485d86;">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 그룹 수정 모달창 -->
  <div class="modal fade" id="updateGroup" tabindex="-1" aria-labelledby="su" aria-hidden="true"
    data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="su" style="color: #485d86;">
            Update Group</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="container">
          <div class="global-cont">
            <div class="inner-cont">
              <div class="sign-in-up">
                <form class="sign-in-form active">
                  <input name="groupname" id="update-groupname" type="name" class="form-control"
                    placeholder="Group Name" style="color: #51565b;" maxlength="15" oninput="checkLength(this)">
                  <div style="display: flex;" id="group_make_box">
                    <input name="addemail" id="update-usersearch" type="email" class="form-control" autocomplete="off"
                      placeholder="Email to add" style="width: 300px; color: #51565b;">
                    <button type="button" class="signup" onclick="updateAddMember()"
                      style="width: 100px; margin-left: 10px; background-color: #485d86; margin-left: 25px;"
                      id="addmember-btn">Search</button>
                  </div>
                  <div style="color: #7c838c;">
                    <p style="justify-content: left; color:#696d73; margin-top: 10px;"> Searched Emails </p>
                    <div id="email-list"
                      style="border: 5px double #8d949e; border-radius: 10px; padding: 10px 0px; margin-bottom: 10px; overflow-y: auto; height: 250px;">
                      <ul id="update-email-ul" style="position: relative; right: 10px;">
                      </ul>
                    </div>
                  </div>
                  <button type="button" onclick="updateAddMembersToGroup()"
                    style="width: 45px; height: 45px; margin-left: 10px; background-color: #485d86;">
                    <img src="/css/group_icon/down-arrow.png" style="width: 20px;">
                  </button>
                  <button type="button" onclick="updateDeleteMembers()"
                    style="width: 45px; height: 45px; margin-left: 10px; background-color: #485d86;">
                    <img src="/css/group_icon/up-arrow.png" style="width: 20px;">
                  </button>
                  <div style="color: #4d6087;">
                    <p style="justify-content: left; color:#4f6185; margin-top: 10px;"> Selected
                      Emails </p>
                    <div id="selected-email-list"
                      style="border: 5px double #60749d; border-radius: 10px; padding: 10px 0px; margin-bottom: 10px; overflow-y: auto; height: 250px;">
                      <ul id="update-selected-email-ul" style="position: relative; right: 10px;">
                      </ul>
                    </div>
                  </div>
                  <div class="sign-up" style="display: flex;">
                    <button type="button" class="cancle" data-bs-dismiss="modal" aria-label="Close"
                      onclick="document.getElementById('updateGroup').style.display = 'none'"
                      style="margin-right: 10px; background-color: #7689b1;">Cancel</button>
                    <button type="button" class="signup" onclick="updateGroup()"
                      style="background-color: #485d86;">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 그룹 삭제 모달 -->
  <div class="modal" tabindex="-1" id="deleteGroup">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" style="color: #485d86;">Delete Group</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p style="color: #51565b;"> Delete 버튼을 누르면 그룹이 삭제됩니다.</p>
        </div>
        <div class="modal-footer" id="modal-footer">
        </div>
      </div>
    </div>
  </div>
  <!-- 휴지통 모달 -->
  <div class="modal" id="trash" tabindex="-1">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content" style="height: 500px">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel" style="color: #485d86;">🗑 휴지통</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div id="trash-modal-body" class="modal-body">
          <div id="trash-container">
            <!-- 토글 -->
            <div class="trash-toggle">
              <input type="checkbox" id="photo-toggle">
              <button id="photoButton" onclick="loadTrash('photo')">사진</button>
              <input type="checkbox" id="note-toggle">
              <button id="noteButton" onclick="loadTrash('note')">노트</button>
              <input type="checkbox" id="group-toggle">
              <button id="groupButton" onclick="loadTrash('group')">그룹</button>
            </div>
          </div>
          <form>
            <div id="trash-content" class="trash-content">
            </div>
          </form>
        </div>
        <div class="modal-footer" id="trash-modal-footer">
        </div>
      </div>
    </div>
  </div>
  <!-- info 페이지 모달 -->
  <!-- Carousel 형식의 모달 -->
  <div class="modal fade" id="carouselModal" tabindex="-1" aria-hidden="true" data-bs-interval="false">
    <div class="modal-dialog modal-xl">
      <div class="modal-content" style="height: 850px;">
        <div class="modal-header">
          <h5 class="modal-title" style="color: #485d86;">해방쿤의 Info!</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" style="height: 600px;">
          <!-- Carousel -->
          <div id="carouselExampleIndicators" class="carousel slide" data-bs-interval="false">
            <div class="carousel-inner">
              <!-- 마이 다이어리 페이지 인포 -->
              <div class="carousel-item active" style="padding: 5px;">
                <h3 style="color: #485d86;"> 마이 다이어리 페이지</h3>
                <img src="/css/assets/info_mydiary.png" style="width: 100%; height:400px; margin: auto;">
                <div style="font-size: 20px; margin-top: 10px;">
                  ① 빈 노트를 누르시면 모달창이 나타나며 새로운 노트를 생성할 수 있습니다!<br>
                  ② 그룹을 선택해서 그룹마다 해당하는 노트를 볼 수 있습니다! <br>
                  ③ 원하는 노트를 누르면 그 노트의 플랜 페이지로 이동합니다!
                </div>
              </div>
              <!-- 그룹만들기 인포 -->
              <div class="carousel-item" style="padding: 5px;">
                <h3 style="color: #485d86;"> 그룹만들기 </h3>
                <img src="/css/assets/info_makegroup.png" style="width: 100%; height:400px; margin: auto;">
                <div style="font-size: 18px; margin-top: 10px;">
                  ① 그룹을 생성하는 모달창은 모든 페이지에서 가능합니다! 상단 네비게이션 바를 확인해 주세요~ <br>
                  ② 모달창이 열리면 먼저 생성할 그룹의 이름을 적어주세요<br>
                  ③ 다음으로 추가하고 싶은 멤버의 이메일을 입력해주세요!<br>
                  ④ 입력후 search를 누르면 아래의 박스에 검색한 이메일들이 나타납니다!<br>
                  ⑤ 검색한 이메일을 선택후 아래의 아래 버튼을 클릭하면 이메일이 아래 상자에 나타납니다! 선택한 멤버를 빼고 싶으시면 다시 아래 박스에서 선택후 위로
                  버튼을 눌러주세요!<br>
                  ⑥ 원하는 멤버들이 다 선택 되었다면 save를 눌러 그룹을 저장해주세요~ 생성한 그룹은 마이페이지에서 확인 가능합니다!
                </div>
              </div>
            </div>
          </div>
          <div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
              data-bs-slide="prev">
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
              data-bs-slide="next">
            </button>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
            style="background-color: #485d86;">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!--노트 이동 모달-->
  <div class="modal fade" id="move_note" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="margin: auto; max-width: 900px;">
      <div class="modal-content" style="width:100%">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel" style="color: #485d86;">
            이동하기</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="container">
          <div class="global-cont">
            <div class="inner-cont">
              <div class="sign-in-up">
                <form class="sign-in-form active">
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</html>