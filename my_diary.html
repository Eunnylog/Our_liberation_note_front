<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" type="image/png" href="/css/coplate/favicon/favicon.ico">
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
    crossorigin="anonymous"></script> -->
  <link href="/css/styles/style.css" rel="stylesheet" type="text/css" />
  <link href="/css/styles/theme.css" rel="stylesheet" type="text/css" />
  <link href="/css/styles/login.css" rel="stylesheet" type="text/css" />
  <link href="/css/styles/my_diary.css" rel="stylesheet" type="text/css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="/js/loader.js"></script>
  <script src="/js/api.js"></script>
  <script src="/js/my_diary.js"></script>
  <style>
    body {
      background-color: #ebf2ff;
    }
  </style>
</head>

<body>
  <!-- nav start -->
  <header class="site-header navbar">
    <!-- navbar -->
  </header>
  <!-- nav end -->
  <!-- content start -->
  <main class="site-body">
    <div class=" content-list max-content-width"
      style="background-color: #c6dbfa; padding: 10px 30px 30px 30px; border-radius:20px;">
      <div style="display: flex; align-items: center; margin-bottom:30px">
        <h2 style="margin-right: 10px;">my diary</h2>
        <select name="group" id="select_group" class="select" onchange="showNoteList()">
          <!-- <option value="-1">그룹 선택</option> -->
        </select>
        <div style="display: flex;">
          <button type="button" id="group-update-btn" class="btn group-btn"
            style="background-color: #60749d; color:white; margin: 0px 10px;" onclick="groupUpdateModal()"> 그룹 수정
          </button>
          <button type="button" id="group-delete-btn" class="btn group-btn"
            style="background-color: #92a2c5; color:white;" onclick="groupDeleteModal()">그룹
            삭제</button>
        </div>
      </div>
      <div class="contents" id="note_list">
        <a href="/" data-bs-toggle="modal" data-bs-target="#create_note">
          <section class="cp-card content" style="background-color: #d9e2f6;">
          </section>
        </a>
      </div>
    </div>
  </main>
  <!-- content end -->
  <!-- 회원가입 모달창 -->
  <div class="modal fade" id="signup" tabindex="-1" aria-labelledby="su" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="su">
            Sign up</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="container">
          <div class="global-cont">
            <div class="inner-cont">
              <div class="sign-in-up">
                <form class="sign-in-form active">
                  <input name="email" id="email" type="email" class="form-control" placeholder="email">
                  <input name="password" id="password" type="password" class="form-control" placeholder="password">
                  <input name="password2" id="password2" type="password" class="form-control" placeholder="password2">
                  <div style="display: flex;">
                    <input name="confirmcode" id="confirmcode" type="confirmcode" class="form-control"
                      placeholder="email 인증코드" style="width: 250px;">
                    <button type="button" class="signup" onclick="sendCode()"
                      style="background-color: #60749d; width: 200px; margin-left: 10px;">인증코드 보내기</button>
                  </div>
                  <div class="sign-up">
                    <button type="button" class="signup" onclick="handleSignup()">Sign up</button>
                  </div>
                </form>
                <div class="divider">
                  <span>or</span>
                </div>
                <div class="social-login">
                  <button class="kakao" onclick="KakaoLogin()">Kakao</button>
                  <button class="google" onclick="googleLogin()">Google</button>
                  <button class="naver" onclick="naverLogin()">Naver</button>
                  <!-- <button class="facebook" onclick="facebookLogin()">Facebook</button> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 로그인 모달창 -->
  <div class="modal fade" id="login" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">
            Sign in</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="container">
          <div class="global-cont">
            <div class="inner-cont">
              <div class="sign-in-up">
                <form class="sign-in-form active">
                  <input name="email" id="login-email" type="email" class="form-control" placeholder="Email">
                  <input name="password" id="login-password" type="password" class="form-control"
                    placeholder="Password">
                  <button type="button" onclick="handleSignin()" class="btn btn-primary" style="float: center">
                    Sign in
                  </button>
              </div>
              </form>
              <div class="divider">
                <span>or</span>
              </div>
              <div class="social-login">
                <button class="kakao" onclick="KakaoLogin()">Kakao</button>
                <button class="google" onclick="googleLogin()">Google</button>
                <button class="naver" onclick="naverLogin()">Naver</button>
                <!-- <button class="facebook" onclick="facebookLogin()">Facebook</button> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 회원탈퇴확인 모달창 -->
  <div class="modal fade" id="deleteuser" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">
            회원탈퇴</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <form>
          <div class="modal-body">
            <h6>※ 탈퇴하기를 누르면 계정이 영구삭제됩니다. 계속 진행하시겠습니까?</h6>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소하기
            </button>
            <button type="button" class="btn btn-primary" style="float: right" onclick="handlesUserDelete()">
              탈퇴하기
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <!--노트 추가 모달-->
  <div class="modal fade" id="create_note" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="margin: auto; max-width: 900px;">
      <div class="modal-content" style="width:100%">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">
            Create Note</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="container">
          <div class="global-cont">
            <div class="inner-cont">
              <div class="sign-in-up">
                <form class="sign-in-form active">
                  <input name="note_name" id="note_name" type="text" class="form-control" placeholder="노트 이름"
                    style="width: 48%; float:left;">
                  <div class="selectBox">
                    <select name="group_name" id="group_name" onchange="showNoteList(); toggleArrow();"
                      style="width: 48%; height:46px; float:right; margin-bottom:10px">
                      <option value="-1">그룹 선택</option>
                    </select>
                    <span class="icoArrow"><img
                        src="https://freepikpsd.com/media/2019/10/down-arrow-icon-png-7-Transparent-Images.png"
                        alt=""></span>
                  </div>

                  <div class="note_category" id="note_category">
                  </div>
                  <button type="button" onclick="saveNote()" class="btn btn-primary" style="float: center">
                    Create
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 그룹만들기 모달창 -->
  <div class="modal fade" id="makegroup" tabindex="-1" aria-labelledby="su" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="su" style="color: #485d86;">
            Make Group</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="container">
          <div class="global-cont">
            <div class="inner-cont">
              <div class="sign-in-up">
                <form class="sign-in-form active">
                  <input name="groupname" id="groupname" type="name" class="form-control" placeholder="Group Name">
                  <div style="display: flex;" id="group_make_box">
                    <input name="addemail" id="usersearch" type="email" class="form-control" autocomplete="off"
                      placeholder="Email to add" style="width: 300px;">
                    <button type="button" class="signup" onclick="addMember()"
                      style="width: 100px; background-color: #485d86; margin-left: 25px;"
                      id="addmember-btn">Search</button>
                  </div>
                  <div style="color: #7c838c;">
                    <p style="justify-content: left; color:#8d949e; margin-top: 20px;"> Searched
                      Emails </p>
                    <div id="email-list"
                      style="border: 5px double #8d949e; border-radius: 10px; padding: 10px 0px; margin-bottom: 10px;">
                      <ul id="email-ul" style="position: relative; right: 10px;">
                      </ul>
                    </div>
                  </div>
                  <button type="button" onclick="addMembersToGroup()"
                    style="width: 40px; height: 45px; margin-left: 10px; background-color: #485d86;">⬇️</button>
                  <button type="button" onclick="DeleteMembers()"
                    style="width: 40px; height: 45px; margin-left: 10px; background-color: #485d86;">⬆️</button>
                  <div style="color: #4d6087;">
                    <p style="justify-content: left; color:#60749d; margin-top: 10px;"> Selected
                      Emails </p>
                    <div id="selected-email-list"
                      style="border: 5px double #60749d; border-radius: 10px; padding: 10px 0px; margin-bottom: 10px;">
                      <ul id="selected-email-ul" style="position: relative; right: 10px;">
                      </ul>
                    </div>
                  </div>
                  <div class="sign-up" style="display: flex;">
                    <button type="button" class="cancle" data-bs-dismiss="modal" aria-label="Close"
                      onclick="document.getElementById('makegroup').style.display = 'none'"
                      style="margin-right: 10px; background-color: #6e81a8;">Cancel</button>
                    <button type="button" class="signup" onclick="addGroup()"
                      style="background-color: #485d86;">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 그룹 수정 모달창 -->
  <div class="modal fade" id="updateGroup" tabindex="-1" aria-labelledby="su" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="su" style="color: #485d86;">
            Update Group</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="container">
          <div class="global-cont">
            <div class="inner-cont">
              <div class="sign-in-up">
                <form class="sign-in-form active">
                  <input name="groupname" id="update-groupname" type="name" class="form-control"
                    placeholder="Group Name" style="color: #51565b;">
                  <div style="display: flex;" id="group_make_box">
                    <input name="addemail" id="update-usersearch" type="email" class="form-control" autocomplete="off"
                      placeholder="Email to add" style="width: 300px; color: #51565b;">
                    <button type="button" class="signup" onclick="updateAddMember()"
                      style="width: 100px; margin-left: 10px; background-color: #485d86; margin-left: 25px;"
                      id="addmember-btn">Search</button>
                  </div>
                  <div style="color: #7c838c;">
                    <p style="justify-content: left; color:#696d73; margin-top: 20px;"> Searched Emails </p>
                    <div id="email-list"
                      style="border: 5px double #8d949e; border-radius: 10px; padding: 10px 0px; margin-bottom: 10px;">
                      <ul id="update-email-ul" style="position: relative; right: 10px;">
                      </ul>
                    </div>
                  </div>
                  <button type="button" onclick="updateAddMembersToGroup()"
                    style="width: 40px; height: 45px; margin-left: 10px; background-color: #485d86;"> ⬇️ </button>
                  <button type="button" onclick="updateDeleteMembers()"
                    style="width: 40px; height: 45px; margin-left: 10px; background-color: #485d86;"> ⬆️ </button>
                  <div style="color: #4d6087;">
                    <p style="justify-content: left; color:#4f6185; margin-top: 10px;"> Selected
                      Emails </p>
                    <div id="selected-email-list"
                      style="border: 5px double #60749d; border-radius: 10px; padding: 10px 0px; margin-bottom: 10px;">
                      <ul id="update-selected-email-ul" style="position: relative; right: 10px;">
                      </ul>
                    </div>
                  </div>
                  <div class="sign-up" style="display: flex;">
                    <button type="button" class="cancle" data-bs-dismiss="modal" aria-label="Close"
                      onclick="document.getElementById('updateGroup').style.display = 'none'"
                      style="margin-right: 10px; background-color: #6e81a8;">Cancel</button>
                    <button type="button" class="signup" onclick="updateGroup()"
                      style="background-color: #485d86;">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 그룹 삭제 모달 -->
  <div class="modal" tabindex="-1" id="deleteGroup">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" style="color: #485d86;">Delete Group</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p style="color: #51565b;"> Delete 버튼을 누르면 그룹이 삭제됩니다.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn" data-bs-dismiss="modal"
            style="background-color: #92a2c5; border-color: #92a2c5; color:white;">Close</button>
          <button type="button" class="btn"
            style="background-color: #60749d; border-color: #60749d; color:white; margin: 0px 10px;"
            onclick="deleteGroupConfirm()">Delete</button>
        </div>
      </div>
    </div>
  </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</html>